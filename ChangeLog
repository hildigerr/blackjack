2008-08-18 22:12  thomashpa

	* [r7831] trunk/NEWS: gnome-games 2.23.90

2008-08-15 10:14  chpe

	* [r7829] trunk/libgames-support/games-preimage.h: Include cairo.h
	  here to fix the blackjack build.
	* [r7828] trunk/libgames-support/games-card-theme.c,
	  trunk/libgames-support/games-card-theme.h,
	  trunk/libgames-support/games-preimage.c,
	  trunk/libgames-support/games-preimage.h: Take the antialias
	  setting from the font options instead of storing it separately.
	* [r7827] trunk/libgames-support/games-card-theme.c,
	  trunk/libgames-support/games-card-theme.h,
	  trunk/libgames-support/games-preimage.c,
	  trunk/libgames-support/games-preimage.h: Get the cairo font
	  options from the screen instead of creating them ourself from
	  the gtk settings.
	* [r7825] trunk/libgames-support/games-card-images.c,
	  trunk/libgames-support/games-conf.c: Fix compile warnings.
	* [r7824] trunk/libgames-support/games-conf.c: Use
	  g_error_matches().
	* [r7823] trunk/blackjack/src/Makefile.am, trunk/blackjack/src/card.cpp,
	  trunk/libgames-support/games-card-images.c,
	  trunk/libgames-support/games-card-images.h,
	  trunk/libgames-support/games-card-theme.c,
	  trunk/libgames-support/games-card-theme.h: Add "changed" signal
	  to GamesCardTheme, and emit it when the theme has changed in a
	  way that necessitates clearing the card cache. Use this in
	  GamesCardImages, and remove the methods that just forwarded to
	  the theme. Adapt aisleriot and blackjack to these API changes.

2008-08-04 19:33  thomashpa

	* [r7805] trunk/NEWS: gnome-games 2.23.6

2008-08-02 21:17  chpe

	* [r7803] trunk/blackjack/src/game.cpp: Revert bogus patch from
	  bug #444806

2008-07-21 05:38  jclinton

	* [r7783] trunk/NEWS: Gnome Games 2.23.5

2008-04-21  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.23.1

2008-04-09  Christian Persch  <chpe@gnome.org>

	* games-stock.c: (games_stock_init): Also define
	GAMES_STOCK_FULLSCREEN on hildon, since it's used in AisleRiot.

2008-03-24  Christian Persch  <chpe@gnome.org>

	* games-card.h: Change default card theme. Bug #513557.

	* data/blackjack.schemas.in: Use "" for the default theme.
	* src/blackjack.cpp: Use the default theme for empty pref string. Bug
	#513557.

2008-03-10  Jason Clinton  <me@jasonclinton.com>

	* NEWS: gnome-games 2.22.0

2008-02-25  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.21.92

2008-02-12  Christian Persch  <chpe@gnome.org>

	* bonded.svg:
	* games-card.h: Complete reversal of default card theme change. Bug
	#513557.

2008-02-11  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.21.91

2008-02-11  Christian Persch  <chpe@gnome.org>

	* games-stock.c: (games_stock_init):
	* games-stock.h: Use private themeable icons. Preparation for bug
	#474698.

	A icons/hicolor_actions_scalable_cards-deal.svg: Add icon from bug
	#474698.

	* games-stock.c: (games_stock_init):
	* games-stock.h: Use icon from bug #474698.

	* games-stock.c: (games_stock_init):
	* games-stock.h: Rename the stock names back to have games- prefix,
	and only use the icon names when registering the stock icons.

2008-02-09  Christian Persch  <chpe@gnome.org>

	D cards/gnomangelo_bitmap.svg: Gnomangelo Bitmap is now shipped in
	gnome-games since it's the new default theme. Part of bug #513557.

2008-01-29  Christian Persch  <chpe@gnome.org>

	* games-card.h: Use __attribute__((__packed__)) for the Card struct.
	Bug #512799.

2008-01-29  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.21.90

2008-01-22  Christian Persch  <chpe@gnome.org>

	A cards/anglo_bitmap.svg:
	A cards/gnomangelo_bitmap.svg: Add bitmap variants of Anglo and
	Gnomangelo.

2008-01-15  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.21.5

2008-01-12  Andreas Røsdal  <andreasr@gnome.org>

	* cards/gnomangelo.svg: Add Gnomangelo cards, which is based on
	Angelo and Bonded.

2008-01-11  Christian Persch  <chpe@gnome.org>

        R games-card-common.h:
        A games-card.h:
        A games-card.c: Move games-card-common.h to games-card.h,
        and add some common routines to games-card.c.

2008-01-03  Andreas Røsdal  <andreasr@gnome.org>

	* blackjack/help/C/blackjack.xml:
	Improve description of games in documentation.
	Patch by Andreas Freund <drethenerd@gmail.com> in bug #500774.

2007-12-16  Jason D. Clinton  <me@jasonclinton.com>

	* NEWS: gnome-games 2.21.4

2007-12-13  John Bryant <bryantk@sover.net>

	* src/blackjack.cpp: Use the global game_variation instead of
	DEFAULT_VARIATION, so the stored preference is used (Bug #487423)

2007-12-03  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.21.3

2007-12-03  Christian Persch  <chpe@gnome.org>

	* games-files.c: (games_path_runtime_fix):
	* games-files.h: Const correctness.

2007-11-28  Christian Persch  <chpe@gnome.org>

        Based on a patch by Danny Varner <danny.varner@intel.com>:

        * games-card-common.h
        * games-card-theme.c:
        * games-conf.c
        * games-files.c
        * games-stock.c:

	Add Hildon support. Use the HAVE_RSVG define on whether to enable scalable
	cards.

2007-11-18  Robert Ancell  <robert.ancell@gmail.com>

	* games-conf.c: Added games_conf_get_boolean_with_default() (required for Gnomine in bug #449505)

2007-11-13  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.21.2

2007-10-30  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.21.1

2007-09-20  Christian Persch  <chpe@gnome.org>

	* games-conf.c: (games_conf_constructor), (games_conf_finalize),
	(games_conf_get_double), (games_conf_set_double): Fix compilation on
	maemo where g_key_file_[sg]et_double isn't available (since it's glib
	>= 2.12 only). No code change on !maemo.

2007-09-17  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.20
    * NEWS: gnome-games-extra-data 2.20.0

2007-09-10  Thomas H.P. Andersen <phomes@gmail.com>

	* games-conf.c: games_conf_get_integer_with_default should not always return default value.
	Fixes bug #475519.

2007-09-03  Thomas H.P. Andersen  <phomes@gmail.com>

	* NEWS: gnome-games 2.19.92

2007-08-28  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.19.91.1

2007-08-27  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.19.91

2007-08-14  Jason D. Clinton  <me@jasonclinton.com>

	* NEWS: gnome-games 2.19.90.1

2007-08-11  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.19.90

2007-08-09  Andreas Røsdal  <andreasr@gnome.org>

	* cards/anglo.svg: New Anglo-American playing cards,
	by Aike Reyer in bug #461267.

2007-07-31  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games-extra-data 2.19.2

2007-07-28  Andreas Røsdal <andreasr@gnome.org>

	* NEWS: gnome-games 2.19.6

2007-07-28  Andreas Røsdal <andrearo@stud.ntnu.no>

	* src/game.cpp: Use g_utf8_strrchr instead of strrchr, which
	prevents a compilation error on Solaris. Patch from Damien Carbery
	in bug #444806.

2007-06-29  Christian Persch <chpe@gnome.org>

	* *.c: Include <config.h>.
	* games-files.c: Fix mem leak.

2007-06-18  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.19.4

	* games-marshal.list:
	* games-conf.c:
	* games-conf.h: Implement the GamesConf API for storing
	the preferences in the games. The GamesConf API allows storing
	preferences using GConf or storing konfiguration keys in flat files.
	Patch from Christian Persch in bug #448432.

2007-06-17  Andreas Rsdal  <andreasr@gnome.org>

	* games-files.h:
	* games-card-theme.c:
	* games-stock.c:
	* games-files.c: Mingw32 patch for libgames-support (bug #448317).

2007-06-06  Christian Persch  <chpe@gnome.org>

	* games-card-common.h:
	* games-card-images.c: (card_to_index):
	* games-card-theme.c: (games_card_theme_clear_source_pixbuf),
	(games_card_theme_clear_theme_data),
	(games_card_theme_load_theme_scalable),
	(games_card_theme_load_theme_prerendered),
	(games_card_theme_prerender_scalable),
	(games_card_theme_render_card), (games_card_theme_load_card),
	(games_card_theme_set_size), (games_card_theme_get_aspect): Don't use
	anonymous structs, since the solaris compiler chokes on them. Bug
	#444802, patch by Damien Carbery.

	* cards/bellot.svg: Fix xlink namespace to point to w3.org, not
	"w3org".
	* cards/bonded.svg: Remove trailing zeros.

	* cards/paris.svg:
	* cards/dondorf.svg: Re-arranged so each card is addressable by ID.

2007-06-04  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.19.3

2007-06-04  Christian Persch  <chpe@gnome.org>

	* bonded.svg: Changed to new theme format.

2007-06-04  Christian Persch  <chpe@gnome.org>

	* libgames-support/games-card-common.h: Change the theme directory.

	* libgames-support/games-card-theme.c:
	(games_card_theme_load_theme_scalable),
	(games_card_theme_load_theme_with_fallback): Enable subrendering by
	default.

2007-06-01  Christian Persch  <chpe@gnome.org>

    * games-card-common.h:
	* games-card-images.c:
	* games-card-images.h:
	* games-preimage.c:
	* games-preimage.h:
	A games-card-theme.c:
	A games-card-theme.h:
	R games-card-pixmaps.c:
	R games-card-pixmaps.h:

        Landed the AisleRiot refactoring from my GIT branch at
        http://www.gnome.org/~chpe/git/gnome-games.git/

        Overview of the changes for libgames-support:

        * Refactored code
        * Improve SVG rendering time for supported themes
          (right now only Bellot theme)
        * Support pre-rendered themes with one file per card per size per theme
        * Decrease memory used for theme caching by only caching the pixmaps or
          pixbufs, not both
        * Improved antialiased card rendering quality

        Bugs fixed includes the following:
        * SVG card set takes too long to load (Bug #337080)

        You can access the full changelog in the svn history.

2007-05-18  Andreas Rsdal  <andreasr@gnome.org>

	* games-card-selector.c:
	* games-card-selector.h:  Add games_card_selector_get_size () for Bug #438079.

2007-05-16  Robert Ancell  <robert.ancell@gmail.com>

	* Use new Tango icons from Daniel Derozier (closes #354507)
	* Application icons now in icons/ (closes #359499)

2007-05-15  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.19.2

2007-04-26  Claude Paroz  <claude@2xlibre.net>

	* C/blackjack.xml: Corrected DocBook syntax to make the document
	validate.
	Fixes bug #406816.

2007-04-26  Christian Persch  <chpe@gnome.org>

        Port remaining games help to GNOME Doc Utils. Bug #398471.
        Make sure the <relation seriesid="..."> in the OMF files is
        unique.

	R blackjack/help/C/blackjack-C.omf:
	* blackjack/help/C/blackjack.xml:
	A blackjack/help/blackjack.omf.in:

2007-04-25  Robert Ancell  <robert.ancell@gmail.com>

	* src/menu.cpp: Remove duplicate logo-icon-name from about dialog (Bug #421931)

2007-04-24  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.19.1

2007-03-20  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.18.0.1

	* bonded.svg: XLink URI that should read "w3.org" instead of "w3org",
	patch from Evert Verhellen in bug #414426.

2007-03-12  Andreas Røsdal  <andreasr@gnome.org>

	* NEWS: gnome-games 2.18.0

2007-02-26  Jason D. Clinton  <me@jasonclinton.com>

	* NEWS: gnome-games 2.17.92

2007-02-12  Jason D. Clinton  <me@jasonclinton.com>

	* NEWS: gnome-games 2.17.91

2007-02-03  Andreas Røsdal  <andreasr@gnome.org>

	* games-files.h
	* games-card-selector.c
	* games-preimage.c
	* games-frame.c
	* games-card-selector.h
	* games-frame.h
	* games-card-images.c
	* games-card-images.h
	* games-card-pixmaps.c
	* games-card-pixmaps.h
	* games-files.c : Patch from Christian Persch <chpe@gnome.org>, in Bug #403660.
	The cleanup consists of the following bugfixes and cleanups:

	Bug fixes:
	- finalize and dipose MUST chain up to the parent classes handler [everywhere]
	- fix typecast macros to return the right types [games-card-selector.h,
	games-card-pixmaps.h]

	Cleanups:
	- use G_DEFINE_TYPE
	- combine 2 gboolean's into a bitfield (saves 4 bytes per instance) [games-card-images.h]

2007-01-22  Jason D. Clinton  <me@jasonclinton.com>

	* NEWS: gnome-games 2.17.90

2007-01-08  Jason D. Clinton  <me@jasonclinton.com>

	* NEWS: gnome-games 2.17.5

2006-12-23  Francisco Javier F. Serrador  <serrador@openshine.com>

	* games-stock.c (games_get_license): Updated FSF snail mail address.

2006-12-23  Callum McKenzie  <callum@spooky-possum.org>

	* README: Added a note about non-GPL licensed artwork.

2006-12-17  Andreas Røsdal  <andrearo@pvv.ntnu.no>

	* NEWS: gnome-games 2.17.4

2006-12-05  Andreas Røsdal  <andrearo@pvv.ntnu.no>

	* NEWS: gnome-games 2.17.3

2006-11-06  Jason Clinton  <me@jasonclinton.com>

	* NEWS: gnome-games 2.17.2

2006-10-17  Jason Clinton <me@jasonclinton.com>

	* NEWS: gnome-games 2.17.1

2006-10-03  Andreas Røsdal  <andrearo@pvv.ntnu.no>

	* indent.sh: Use the GNU coding style consistently.

2006-10-01  Andreas Røsdal  <andrearo@pvv.ntnu.no>

	* blackjack/src/menu.cpp:
	* libgames-support/games-stock.c:
	* libgames-support/games-stock.h: Show proper GPL2+ preamble with game
	name correctly for all games. Reported in Bug #357765.

2006-09-25  Tom Tromey  <tromey@redhat.com>

	Bug #347262.
	* games-preimage.c (games_preimage_new_from_file): Cast srcbuffer
	pointer to char* first.
	* games-files.c (games_file_list_find): Removed incorrect cast.

2006-09-05  Andreas Røsdal  <andrearo@pvv.ntnu.no>

	* games-stock.c:
	* games-stock.h: GGZ Network Support

2006-09-04  Jason D. Clinton <me@jasonclinton.com>

	* NEWS: 2.16.0 - Hurray!

2006-08-31  Andreas Røsdal  <andrearo@pvv.ntnu.no>

	* README:
	* HACKING:
	* TODO: Documentation update for next release.

2006-08-20  Richard Hoelscher  <rah@rahga.com>

	* MAINTAINERS: Updated.

2006-08-07  Jason Clinton <me@jasonclinton.com>

	* NEWS: 2.15.6

2006-07-24  Andreas Røsdal  <andrearo@stud.ntnu.no>

	* NEWS: 2.15.5

2006-07-10  Jason Clinton  <me@jasonclinton.com>

	* NEWS: 2.15.4

2006-07-10  Andreas Røsdal <andrearo@stud.ntnu.no>

	* README: Updated.

2006-07-08  Dennis Cranston  <dennis_cranston@yahoo.com>

	* blackjack/src/blackjack.cpp: Add tooltips to toolbar buttons.

2006-06-21  Andreas Røsdal <andrearo@stud.ntnu.no>

	* MAINTAINERS: Updated.

	* src/blackjack.cpp: Add fullscreen mode.

2006-06-15  Richard Hoelscher <rah@rahga.com>

	* TODO: Cleanup.

2006-06-12  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.15.3

2006-05-15  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.15.2

2006-05-05  Callum McKenzie  <callum@spooky-possum.org>

	* games-files.c:
	* games-card-images.c: Patch from Amnon Aaronsohn to fix up the
	card loading for the case where no cards are found.

2006-04-24  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.15.1

2006-04-22  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.14.0 gnome-games-extra-data
	* Rename ornamental.README to README.ornamental.

2006-04-15  Callum McKenzie  <callum@spooky-possum.org>

	* games-find-file.c:
	* games-find-file.h:
	* games-card-images.c: Remove the fallback parameter from
	games_find_similar_file since it doesn't look like it will be
	useful in practise. Put guard macros in games-find-file.h.

2006-04-14  Callum McKenzie  <callum@spooky-possum.org>

	* Make the bonded card theme an SVG theme rather than
	a PNG one. Add games-find-file.* to the build.

	* games-card-images.c (games_card_images_prerender): Make the
	fall-back code use the games_find_similar_file function.

	* games-find-file.c:
	* games-find-file.h: New code to find a "similar" file in a given
	path.

	* games-files.c: Add a new function: games_file_list_find. It is
	analogous to g_list_find_custom. Make the first argument of
	games_file_list_new const.

	* games-files.h: Fix up the file name in the leading comment.

2006-04-06  Thomas Andersen  <phomes@gmail.com>

	* src/menu.cpp: Update About dialog

2006-04-04  Callum McKenzie  <callum@spooky-possum.org>

	* src/blackjack.cpp: Patch from Przemys©aw Grzegorczyk to unref
	the GnomeProgram in all main loops.

	* games-card-images.c: Add some instrumentation code.

	* games-preimage.c: Gain a factor of 2 in start-up time by using
	gdk_pixbuf_get_file_info instead of a more-or-less-copy of it that
	got broken by gdk-pixbuf changes.

2006-04-02  Callum McKenzie  <callum@spooky-possum.org>

	* data/blackjack.desktop.in:
	* src/blackjack.cpp:
	* src/menu.cpp: Update the icon handling to use icon themes.

2006-03-19  Callum McKenzie  <callum@spooky-possum.org>

	* games-card-images.h: Swap the hearts and diamond enum entries to
	match the image files. See bug #335078 where it was finally
	noticed by Sander Marechal who actually wanted to use those values.

2006-03-13  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.14.0

2006-02-23  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.13.8

2006-02-18  Callum McKenzie  <callum@spooky-possum.org>

	* src/splash.cpp: Only set the window icon once and set it from
	the hard-coded location since the icon purge has fucked us over.

2006-02-13  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.13.7

2006-01-30  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.13.6

2006-01-24  Callum McKenzie  <callum@spooky-possum.org>

	* */*.desktop.in: Add GTK to the category list, remove
	the non-standard Application category.

2006-01-17  Callum McKenzie  <callum@spooky-possum.org>

	* src/blackjack.cpp: Patch from Scott Bronson to ensure user-edited
	accelerators are saved (bug #327280).

2006-01-16  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.13.5

2006-01-14  Richard Hoelscher  <rah@rahga.com>

	* src/hand.cpp (bj_hand_finish1, bj_count_live_hands): Dealer
	doesn't draw more cards if outcome of the round has been decided:
	All player hands are surrendered, bust or blackjack. (#136116)

2006-01-06  Callum McKenzie  <callum@spooky-possum.org>

	* (card_DATA): Added the ornamental Nicu
	Buculei. It's a nice, modern, set of cards.

2006-01-02  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.13.4

2005-12-23  Callum McKenzie  <callum@spooky-possum.org>

	* games-files.c: Start adding standard documentation comments to
	the files. Functions only for now.

	* games-files.h: Annotate games_file_list_new* with
	G_GNUC_NULL_TERMINATED.

2005-12-12  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.13.3

2005-12-13  William Jon McCann  <mccann@jhu.edu>

	* src/player.cpp (showCount): Show results of hand even
	if events are pending.  This can give away the answer
	too soon but it is better than it getting erased later.

2005-11-13  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.13.2

2005-10-24  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.13.1

2005-09-15  JP Rosevear  <jpr@novell.com>

	* data/blackjack.schemas.in: add never insurance schema item

	* src/hand.cpp (bj_hand_new5): if never insurance is on, don't ask
	about insurance and don't take it

	* src/dialog.cpp (never_insurance_toggle_cb): set never insurance
	value when it changes
	(show_preferences_dialog): add never insurance check box to the
	preferences

	* src/blackjack.h: add never insurance gconf key definition and
	function prototypes

	* src/blackjack.cpp (bj_gconf_never_insurance_cb): listen for
	changes to the never_insurance setting
	(bj_set_never_insurance): accessor
	(bj_set_never_insurance): ditto
	(bj_gconf_init): read in the initial never_insurance setting and
	listen for changes

2005-09-07  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.12.0 gnome-games-extra-data

2005-09-05  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.12.0!

2005-08-22  Callum McKenzie  <callum@spooky-possum.org>

	* NEWS: 2.11.5

2005-08-19  Callum McKenzie  <callum@spooky-possum.org>

	* cards/README.bellot
	* cards/bellot.svg: Updated to David's latest set. Also
	added the README from his distribution.

2005-08-08  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.11.4.

2005-07-31  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-stock.h:
	* games-stock.c: Add support for local in the theme.

2005-07-29  Callum McKenzie  <callum@physics.otago.ac.nz>

	* C/figures/*
	* C/blackjack.xml: Bump the app version number and update the
	screenshots.

2005-07-25  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.11.3

2005-07-16  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.10.2
	* NEWS: 2.11.2

2005-07-11  Richard Hoelscher  <rah@rahga.com>

	* src/blackjack.cpp (create_main_window): Make ui_definition readonly.

2005-07-08  Richard Hoelscher  <rah@rahga.com>

	* games-preimage.[c|h]: Fix for warnings related to buffer signedness.

2005-06-30  Richard Hoelscher  <rah@rahga.com>

	* src/blackjack.cpp (control_menu_set_sensitive): Set action
	sensitivity rather than widget. I'm not sure if it fixes any bugs,
	but the keyboard shortcuts were certainly still active.

2005-06-27  Richard Hoelscher  <rah@rahga.com>

	* src/blackjack.cpp (create_main_window): Disable the resize grip.

2005-06-23  Richard Hoelscher  <rah@rahga.com>

	* games-preimage.c (games_preimage_new_from_file): Ensure that the
	pixbuf loader is closed prior to setting our rendering path.

2005-06-08  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.11.1

2005-05-31  Richard Hoelscher  <rah@rahga.com>

	* src/blackjack.cpp (create_main_window): Add games-stock items along
	with statusbar menu tooltip support, and update the tooltips themselves
	a little bit.

	* games-stock.c (games_stock_prepare_for_statusbar_tooltips)
	(connect_proxy, unset_statusbar_tooltip, set_statusbar_tooltip):
	Imported a few functions that handle menu tooltips and statusbars.

2005-05-28  Richard Hoelscher  <rah@rahga.com>

	* games-stock.c (games_stock_copy_tooltip_from_stockid):
	Takes a stockid, and sends back a copy of a nice tooltip string.

2005-05-12  Richard Hoelscher  <rah@rahga.com>

	* TODO (Priorities): Updated, removing several long-gone bugs.

2005-05-04  Richard Hoelscher  <rah@rahga.com>

	* games-card-pixmaps.c (games_card_pixmaps_get_red_joker):
	Specify the correct card. This only affected Aisleriot Thieves.

2005-04-12  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.10.1.

2005-04-08  William Jon McCann  <mccann@jhu.edu>

	* src/hand.cpp (bj_hand_new5, bj_hand_finish_internal)
	(bj_hand_finish, bj_hand_stand, bj_hand_hit_internal)
	(bj_hand_hit_delay_cb, bj_hand_surrender, bj_hand_finish_play):
	Internal to hand use functions without pending events checks.

	* src/events.cpp (bj_event_key_press): Let the GtkAction handle
	the keypresses except Return which it won't allow as an accel.
	(bj_event_button_release): Also guard here for pending events.

	* src/dialog.cpp (get_insurance_choice, show_hint_dialog):
	Use a blank title in alerts per HIG.

2005-04-07  William Jon McCann  <mccann@jhu.edu>

	* src/player.cpp (showCount):
	* src/hand.cpp (bj_hand_events_pending, bj_hand_cancel)
	(bj_hand_new5, bj_hand_new, bj_hand_finish1, bj_hand_finish)
	(bj_hand_stand, bj_hand_hit, bj_hand_hit_delay_cb)
	(bj_hand_hit_with_delay, bj_hand_double, bj_hand_split)
	(bj_hand_surrender, bj_hand_new_deal):
	* src/events.cpp (bj_event_key_press, bj_event_button_press):
	* src/blackjack.cpp:
	Add a new function to keep track of pending events.  Remove
	broken global variable events_pending.  Add guards in public
	bj_hand functions for when events are pending.  Fixes #170625.

	* *.[ch]: Remove unneeded includes.

2005-04-04  Richard Hoelscher  <rah@rahga.com>

	* games-stock.c (games_stock_items): i18n notes.

2005-04-03  Callum McKenzie  <callum@physics.otago.ac.nz>

	* README: Reference our "contributing" webpage.

2005-03-31  Richard Hoelscher  <rah@rahga.com>

	* games-stock.c (games_stock_items): Remove ellipsis for the menuitem "Scores",
	since it does not require further input from the user prior to doing something.
	Also, try using "New", "Pause" and "Restart" without appending the word "Game".

2005-03-30  Richard Hoelscher  <rah@rahga.com>

	* games-stock.h:
	* games-stock.c: New files to support games-stock menu items.
	Call games_stock_init () prior to using the items.

2005-03-23  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/dialog.cpp:
	* src/blackjack.cpp: Patches from Dennis Cranston
	<dennis_cranston@yahoo.com> to make the game more HIG
	compliant.

	* games-frame.c:
	* games-frame.h: A patch from Dennis Cranston
	<dennis_cranston@yahoo.com> to convert games-frame to be what is
	essentially gimp-frame. This makes it a far nicer widget and lets
	the labels on vertically stacked frames align correctly..

2005-03-04  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS:
	* README: Update for 2.10.0.

2005-03-02  Callum McKenzie  <callum@physics.otago.ac.nz>

	* C/blackjack.xml: Bump the app version number. No revisions.

2005-03-01  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.9.7

2005-02-27  Richard Hoelscher  <rah@rahga.com>

	* src/blackjack.cpp (main): Set default icon from file, for now.

2005-02-14  Callum McKenzie  <callum@physics.otago.ac.nz>

	* blackjack.cpp: Patch from Nickolay V. Shmyrev to get blackjack
	correctly translated. See bug #167175.

2005-02-08  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.9.6

2005-01-29  Richard Hoelscher  <rah@rahga.com>

	* src/blackjack.cpp: Mark menu items for translation.

2005-01-25  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.9.5.

2005-01-10  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.9.4.

2005-01-09  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-files.c: Remove duplicates from the returned lists. This
	includes removing duplicates after the names are transformed. If
	it were a general API I might be worried about this behaviour, but
	this is almost always what we want in our case.

2005-01-03  Richard Hoelscher  <rah@rahga.com>

	* src/slot.cpp (bj_slot_set_size):
	* src/chips.cpp (bj_chip_set_size): Preimage API update, uri -> file.

	* games-preimage.c (games_preimage_new_from_uri): Removed.

2004-12-22  root  <callum@physics.otago.ac.nz>

	* NEWS: 2.9.3.

2004-12-16  Richard Hoelscher  <rah@rahga.com>

	* TODO: Assorted updates.

2004-12-13  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-pixmaps.c: gdk_pixbuf_render_pixmap_and_mask ->
	gdk_pixbuf_render_pixmap_and_mask_for_colormap.

2004-11-30  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.9.2.1.

2004-11-29  Richard Hoelscher  <rah@rahga.com>

	* src/blackjack.cpp (main): remove rsvg_init(), bug #159811.

	* games-card-images.c:
	* games-card-pixmaps.c: In range checks, return NULL if fail.

2004-11-29  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.9.2.

2004-11-22  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-images.c:
	* games-card-pixmaps.c:
	* games-card-pixamps.h: Remove the duplicate definition of
	GAMES_CARD_ID and add some range checks for a cardids and the
	like.

2004-11-21  Richard Hoelscher  <rah@rahga.com>

	* games-card-images.h, games-card-pixmaps.h (GAMES_CARD_ID):
	Support for ace-high decks. (#158899, Harry Ray)

2004-11-15  William Jon McCann  <mccann@jhu.edu>

	* games-card-selector.c: Don't use gnome.h or bonobo-i18n.h.

	* games-preimage.[ch] (games_preimage_new_from_file):
	* games-card-images.c (games_card_images_prerender): API change so
	make it clear that we don't depend on gnome-vfs.

2004-12-13  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-pixmaps.c: gdk_pixbuf_render_pixmap_and_mask ->
	gdk_pixbuf_render_pixmap_and_mask_for_colormap.

2004-11-12  William Jon McCann  <mccann@jhu.edu>

	* src/press_data.cpp (bj_press_data_free)
	(bj_chip_stack_press_data_free): New functions.

	* src/game.cpp (bj_game_cancel):
	* src/events.cpp (drop_moving_cards, drop_moving_chips)
	(bj_event_button_release):
	Free the press data when the game ends.  Fixes #138469.

2004-11-12  William Jon McCann  <mccann@jhu.edu>

	* src/hand.cpp (bj_hand_finish_play, bj_hand_new5)
	(bj_hand_finish):
	* src/blackjack.cpp (control_menu_set_sensitive)
	(bj_update_control_menu, create_main_window):
	Add Control menu and desensitize unavailable options.

2004-11-12  William Jon McCann  <mccann@jhu.edu>

	* src/dialog.cpp (show_hint_dialog):
	* src/hand.cpp (bj_hand_get_best_option_string):
	Add helpful secondary text to hint dialog and insurance
	confirmation dialog.

2004-11-12  William Jon McCann  <mccann@jhu.edu>

	* data/Ameristar.rules:
	* data/Atlantic_City.rules:
	* data/Vegas_Downtown.rules:
	* data/Vegas_Strip.rules: Converted to XML.

	* src/blackjack.cpp (create_main_window, main_prog, main):
	* src/card.cpp (get_pixbuf, get_pixmap):
	* src/chips.cpp (bj_chip_set_size):
	* src/dialog.cpp:
	* src/events.cpp:
	* src/game.cpp (bj_game_find_rules, bj_game_read_rules)
	(bj_game_find_and_read_rules, bj_game_eval_installed_file):
	* src/hand.cpp:
	* src/menu.cpp (on_help_about_activate):
	* src/player.cpp:
	* src/slot.cpp (bj_slot_set_size, bj_slot_load_pixmaps):
	* src/splash.cpp (splash_new): Replace GNOME stuff with gtk+/gdk/glib.
	Notably, GtkUIManager for menus and libxml2 for rule definitions.  The only
	thing that we still need GNOME libs for is the help browser.

2004-11-10  William Jon McCann  <mccann@jhu.edu>

	* src/events.cpp: Removed unused end_of_game_test().

2004-11-08  Richard Hoelscher  <rah@rahga.com>

	* src/slot.cpp (bj_slot_set_size): Render slots with GamesPreimage.
	* src/chips.cpp (bj_chip_set_size): Render chips with GamesPreimage.

	* games-preimage.h: Move G_BEGIN_DECLS below #include glib.h
	* games-preimage.c (games_preimage_render): scale pixbufs using
	GDK_INTERP_BILINEAR rather than GDK_INTERP_HYPER... Better overall
	image quality meant off-center tiled images with unclean edges.

2004-11-01  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.9.1.

2004-10-13  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/blackjack.h:
	* src/dialog.cpp:
	* src/game.cpp:
	* src/blackjack.cpp: Remove the seed form the title bar and clean
	up the seed setting code.

2004-10-11  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-image.*
	* games-preimage.*: Rendering speed optimisations from Richard
	Hoelscher.

2004-10-11  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.8.1.

2004-09-10  callum  <callum@spooky-possum.org>

	* NEWS: Preparation for 2.8.0.

2004-09-10  Callum McKenzie  <callum@physics.otago.ac.nz>

	* */help/*/*.omf: Updated

2004-09-08  callum  <callum@spooky-possum.org>

	* C/blackjack.xml:
	* C/figures: Updated version and figures for 2.8.

2004-08-30  callum  <callum@spooky-possum.org>

	* NEWS: 2.7.8.

2004-08-26  Richard Hoelscher  <rah@rahga.com>

	* C/blackjack.xml: document payout on a blackjack hand

2004-08-25  Richard Hoelscher  <rah@rahga.com>

	* pixmaps/chip-100.svg: SVG cleanup and font tracing.
	* pixmaps/chip-25.svg:  "
	* pixmaps/chip-5.svg:   "
	* pixmaps/chip-1.svg:   "
	* pixmaps/white-outline.svg: Slightly smaller to conceal bilevel
	transparency of cards, with cleanup.

2004-08-16  callum  <callum@spooky-possum.org>

	* NEWS: 2.7.7.

2004-08-15  Callum McKenzie  <callum@physics.otago.ac.nz>

	* paris.svg: Added.

2004-08-03  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.7.6.

	* games-card-pixmaps.c (games_card_pixmaps_get_card_by_id):
	Tweaked the alpha bi-level threshold to make the cards look
	better. Not perfect, but in the absence of true alpha-blending
	fairly nice.

2004-07-22  Callum McKenzie  <callum@physics.otago.ac.nz>

	* dondorf.svg: Update from Richard Hoelscher.

2004-07-20  William Jon McCann  <mccann@jhu.edu>

	* data/blackjack.schemas.in: Use toolbar and not show_toolbar.
	Wow, how long has this been broken.

2004-07-19  Callum McKenzie  <callum@physics.otago.ac.nz>

	* Replace dondorf.png with an SVG version (from
	Richard Hoelscher).

2004-07-17  William Jon McCann  <mccann@jhu.edu>

	* src/slot.cpp (bj_slot_set_size):
	* src/chips.cpp (bj_chip_set_size): New functions to load pixbufs
	directly from file using librsvg.

	* src/card.cpp (bj_card_set_size): Don't scale stored pixbufs for
	chips and slot image.  Call bj_chip_set_size and bj_slot_set_size.
	* src/blackjack.cpp (bj_quit_app, main_prog):
	* src/card.cpp (bj_card_load_pixmaps):
	(bj_card_free_pixmaps): Removed.

2004-07-16  William Jon McCann  <mccann@jhu.edu>

	* pixmaps/chip-100.svg:
	* pixmaps/chip-25.svg:
	* pixmaps/chip-5.svg:
	* pixmaps/chip-1.svg:
	* pixmaps/white-outline.svg: Add new SVG chip and slot
	images.

	* src/card.cpp (bj_card_load_pixmaps): Use SVG chips.

	* src/slot.cpp (bj_slot_load_pixmaps): Use SVG slot.

2004-07-11  William Jon McCann  <mccann@jhu.edu>

	* src/strategy.cpp: Fix for bug #145586.

2004-07-08  William Jon McCann  <mccann@jhu.edu>

	* src/menu.cpp (help_about_callback): Update Eric Farmer's
	email address.

2004-07-06  William Jon McCann  <mccann@jhu.edu>

	* src/events.cpp (handle_chip_stack_pressed): Fix typos
	press_data -> chip_stack_press_data.

	* src/card.cpp (bj_card_set_size): Fix mask getting set
	due to being defined as a local variable.

	* src/game.cpp (bj_game_read_rules):
	* src/blackjack.cpp (main_prog):
	(bj_gconf_card_style_cb):  Fix string leaks.

	* src/events.cpp (set_cursor, set_cursor_by_location)
	(bj_event_button_release, handle_slot_motion_event)
	(handle_chip_stack_motion_event, make_cursor)
	(bj_event_playing_area_configure): Use Callum's mouse
	cursor work from Aisleriot.

2004-07-06  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.7.4.

2004-06-08  William Jon McCann  <mccann@jhu.edu>

	* src/events.cpp (handle_other_motion_event):
	* src/blackjack.cpp (main_prog):
	Use GtkStatusBar instead of deprecated GnomeAppBar.  Move
	information to left side to handle resize grip.

2004-06-08  Callum McKenzie  <callum@physics.otago.ac.nz>

	* card.cpp:
	* menu.cpp:
	* blackjack.cpp:
	* game.cpp:
	* player.cpp:
	* strategy.cpp: Rename locals to avoid warnings about
	shadowing. Generally I just prepended an l. Hopefully this
	hasn't introduced too many bugs.

2004-06-07  Callum McKenzie <callum@physics.otago.ac.nz>

	* NEWS: Release notes for 2.7.3.

2004-06-06  Callum McKenzie  <callum@physics.otago.ac.nz>

	* draw.cpp: Don't use a gc for drawing the chips. draw_gc
	was being used, but it's clipping rectangle is only for the
	cards -> invisible chips.

2004-06-04  Callum McKenzie <callum@physics.otago.ac.nz>

	* gdk-card-image/*: Removed since we no longer use it.

2004-05-31  Callum McKenzie <callum@physics.otago.ac.nz>

	* NEWS: 2.7.2 release notes.

2004-05-27  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-selector.c: Remove an unnecessary unref. I still
	think I'm doing the dispose/finalize stuff wrong though.

2004-05-26  Callum McKenzie  <callum@physics.otago.ac.nz>

	* card-style-file.c: int->gsize 64-bit fix. See bug
 	#143106.

	* games-files.c: Fix warnings.

2004-05-25  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/events.cpp: Fix compiler warnings.

2004-05-24  William Jon McCann  <mccann@jhu.edu>

	* src/blackjack.cpp (bj_gconf_card_style_cb): Instant
	apply card theme.

	* src/card.h (bj_card_set_theme): Add function prototype.

2004-05-20  William Jon McCann  <mccann@jhu.edu>

	* dialog.cpp (reset_button_cb, show_preferences_dialog):
	Add a button to reset the balance.

	* dialog.cpp (show_preferences_dialog): New preferences dialog
	that doesn't use a tabbed notebook.

	* dialog.cpp (get_insurance_choice, show_hint_dialog):
	* game.cpp (bj_game_eval_installed_file):
	Use gtk_message_dialog_new_with_markup and use HIG container
	spacing.

	* src/press_data.cpp (bj_chip_stack_press_data_generate):
	* src/hand.cpp (bj_hand_split):
	* src/game.cpp (bj_clear_table):
	* src/events.cpp (handle_chip_stack_pressed):
	* src/draw.cpp (bj_draw_chips, calculate_stack_location)
	(bj_draw_set_geometry):
	* src/chips.cpp (bj_chip_get_scaled_pixbuf)
	(bj_chip_set_scaled_pixbuf, bj_chip_stack_add)
	(bj_chip_stack_pressed, bj_chip_stack_update_length)
	(bj_chip_stack_create_sources, bj_chip_stack_new_with_id_value)
	(bj_chip_stack_new_with_value)
	(bj_chip_stack_new_source_with_value):
	* src/card.cpp (bj_card_set_size):
	* src/blackjack.cpp (create_chip_stack_press_data):
	Use normal coordinates and rescale chips.

	* src/events.cpp (handle_chip_stack_pressed)
	(bj_event_button_press, handle_other_motion_event):
	Handle chip stacks before card slots since they are smaller
	and would otherwise be obscured by the slots.

2004-05-18  William Jon McCann  <mccann@jhu.edu>

	* src/blackjack.cpp (main_prog): Use printf to format wager label.
	Fixes #142750.  Also fix a string leak.

2004-05-18  William Jon McCann  <mccann@jhu.edu>

	* src/slot.cpp (bj_slot_get_scaled_pixbuf)
	(bj_slot_set_scaled_pixbuf, bj_slot_add, bj_slot_add_before_slot)
	(bj_slot_pressed, bj_slot_update_length):
	* src/press_data.cpp (bj_press_data_generate):
	* src/player.cpp (showCount):
	* src/hand.cpp (bj_hand_split):
	* src/game.cpp (bj_clear_table):
	* src/events.cpp (drop_moving_cards, handle_slot_pressed)
	(bj_event_playing_area_configure):
	* src/draw.cpp (calculate_card_location, bj_draw_set_geometry)
	(bj_draw_rescale_cards):
	* src/blackjack.cpp (bj_create_board, create_press_data):
	Use normal coordinates and dynamically resize the board.  Chips
	don't resize yet.  Almost entirely based on / stolen from Callum's
	work on aisleriot.

	* data/blackjack.schemas.in:
	* src/blackjack.cpp (main_prog, bj_gconf_card_style_cb)
	(bj_get_card_style, bj_set_card_style):
	* src/card.cpp (bj_card_get_picture, bj_card_get_back_pixmap)
	(bj_card_load_pixmaps, bj_card_free_pixmaps, bj_card_set_size)
	(bj_card_set_theme):
	* src/dialog.cpp (show_preferences_dialog, card_deck_options_changed):
	Use new games card API.

	* src/events.cpp (create_main_window):
	* src/blackjack.cpp (bj_event_configure): Save the window
	size.

2004-05-15  William Jon McCann  <mccann@jhu.edu>

	* src/blackjack.cpp:
	* src/card.cpp:
	* src/chips.cpp:
	* src/dialog.cpp:
	* src/draw.cpp:
	* src/events.cpp:
	* src/game.cpp:
	* src/hand.cpp:
	* src/menu.cpp:
	* src/player.cpp:
	* src/press_data.cpp:
	* src/slot.cpp:
	* src/splash.cpp:
	* src/strategy.cpp:
	Change indentation to 8 chars and don't put open parenthesis on
	empty line.

	* src/splash.cpp (splash_new):
	* src/dialog.cpp (show_preferences_dialog)
	(show_preferences_dialog):
	* src/blackjack.cpp:
	(create_main_window, bj_create_board, main): Use G_CALLBACK and remove
	GTK_OBJECT casts.

2004-05-10  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.7.1 !

2004-05-02  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-images.c: Render individual cards on demand rather
	than all at once.

2004-05-01  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-files.c (games_file_list_create_widget): Handle the case
	where the provided default isn't in the list.

	* games-card-images.c: Add a fallback option when cards fail to load.

	* games-card-images.c:
	* games-card-selector.c:
	* games-card-common.c: Use a common path definition.

	* games-card-pixmaps.c (games_card_pixmaps_purge): Remove some
	debugging statements.

	* games-frame.c:
	* games-frame.h: TYPE_GAMES_FRAME -> GAMES_TYPE_FRAME for
	consistency across libgames.

	* games-card-selector.c:
	* games-card-selector.h: A widget to select a card theme.

2004-04-27  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-images.c (games_card_images_new):

	* games-card-pixmaps.c:
	* games-card-pixmaps.h: Add an object to manage pixmaps of cards.

	* games-card-images.c (games_card_images_finalize): Just call
	purge rather than repeating code. Also reorganise the _new and
	_init code so that variables get initialised properly by
	subclasses.

	* games-card-images.h: Implement the standard casting macros.

	* games-card-images.h:
	* games-card-images.c: Reduce dependencies to only glib and gdk-pixbuf.

2004-04-25  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-images.c (games_card_images_render): Wrap up the
	common functionality into a macro.

2004-04-20  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-images.h:
	* games-card-images.c: Use G_DEFINE_TYPE and add theme support.

2004-04-19  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-card-images.h:
	* games-card-images.c (games_card_images_render): Pick up the card
	images from a monolithic file.

	* Makefile.am (INCLUDES): Added a reference to the datadir.

2004-04-17  Callum McKenzie  <callum@physics.otago.ac.nz>

	* Added games-card-images.*

	* games-files.c: Update the file name at the top so it isn't the
	file we stole the boilerplate from.

2004-04-14  William Jon McCann  <mccann@jhu.edu>

	* src/hand.cpp (bj_hand_new5): Return when hand is finished.
	Fixes #137430.

	* src/game.cpp (bj_game_new): Cancel game unconditionally
	when starting a new one.

2004-03-29  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: Change to 2.6.0.1 ratehr than 2.6.1.

2004-03-28  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: Updated for 2.6.1.

2004-03-25  Callum McKenzie  <callum@physics.otago.ac.nz>

	* *: Updated the copyright notices to 2004. Thanks to Jeremy
	Browne for noticing (bug #138057).

2004-03-22  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS:
	* README: 2.6.0 !

2004-03-19  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/game.cpp
	* src/hand.cpp
	* src/hand.h: Fix a crasher (#137525) by explicitly removing
	timeouts. Mysteriously the warning described in #137513 is also
	fixed :).

2004-03-08  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS:
	* README: 2.5.8.

2004-02-25  Callum McKenzie  <callum@physics.otago.ac.nz>

	* C/blackjack.xml: Updated to 2.6.

2004-02-22  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/events.cpp:
	* src/blackjack.cpp: Move the intialisation of draw_gc to the
	configure callback and remove the explicit call to
	gtk_widget_realize. This avoids the (erratic) warnings when the
	expose event (from the explicit realize) gets called before the
	configure event.

2004-02-21  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/menu.cpp: Removed warning about unused function by removing
	it with #if 0.

2004-02-20  William Jon McCann  <mccann@jhu.edu>

	* src/hand.cpp (bj_hand_finish_play): Only set the player to
	the next player if it is not NULL.  Fixes bug #134488.

	* src/events.cpp: Properly initialize variables.  Fixes bug #125523.
	(handle_slot_pressed): Remove debug print statement.

2004-02-16  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: Time for 2.5.6.

2004-02-14  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/game.cpp:
	* src/dialog.cpp:
	* src/card.cpp: Removed the has_separator call from the message
	dialogs.

2004-02-11  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/menu.cpp (help_about_callback): Add translator credits.

2004-02-07  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c (gtk_card_deck_options_edit_create_list): That
	was silly. Remove the extra, untyped, column in gtk_list_store_new
	(). Fixes bug #133687.

2004-02-05  Callum McKenzie  <callum@physics.otago.ac.nz>

	* TODO: Complete bug triage for the final 2.5 push.

2004-02-04  William Jon McCann  <mccann@jhu.edu>

	* src/player.cpp (reset): Load new XML cache file.

	* src/game.cpp (bj_game_get_config_dir)
	(bj_game_ensure_config_dir_exists): New functions
	(bj_game_eval_installed_file): Generate cache file if it
	is not found.

2004-02-03  William Jon McCann  <mccann@jhu.edu>

	* src/player.cpp (LoadablePlayer, reset):
	Use and check return value.
	(saveHandXML, savePlayerHandCountXML, saveCountXML)
	(saveValueSplitXML, saveResplitXML, saveOverallValuesXML)
	(saveOverallValueXML, savePlayerHandsXML, saveXML)
	(load_array_from_string, parse_hand, parse_hands)
	(parse_hand_count, parse_value_split, parse_resplit)
	(parse_overall_values, parse_overall_value, parse_document)
	(loadXML): New functions to support saving and loading XML
	cache files.

	* src/hand.cpp (bj_hand_show_options)
	(bj_hand_get_best_option_string, bj_hand_new5): Add some checks
	for NULL strategy.

2004-02-02  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: Replaced references to g_basename. See bug
	#133176.

2004-01-31  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-files.c (games_image_suffix_list_init): Release the mutex
	on an early return. Fixes bug #132937.

2004-01-29  Callum McKenzie  <callum@physics.otago.ac.nz>

	* card-style-file.c:
	* gdk-card-image.c:
	* card-styles.xml.in: Updates to let the strings in
	card-styles.xml to be translated.

2004-01-12  William Jon McCann  <mccann@jhu.edu>

	* src/card.cpp (bj_card_load_pixmaps): Added error checking and
	report dialog.

2004-01-11  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.5.4.

2003-12-29  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.5.3.

2003-12-28  William Jon McCann  <mccann@jhu.edu>

	* src/hand.cpp (bj_hand_show_options):
	(bj_hand_new5, bj_hand_new, bj_hand_finish, bj_hand_split):
	* src/events.cpp (drop_moving_chips):
	* src/dialog.cpp (pref_dialog_response, show_preferences_dialog):
	* src/slot.cpp (bj_slot_add_before_slot):
	* src/blackjack.cpp (bj_gconf_init):
	* src/game.cpp (bj_game_new):
	Remove unused variables.

	* src/hand.cpp (bj_hand_new5): Always set the playing area text
	whether it is displayed or not.  Fixes a bug introduced by last
	change.


2003-12-20  William Jon McCann  <mccann@jhu.edu>

	* src/hand.cpp (bj_hand_hit, bj_hand_double, bj_hand_finish_play):
	* src/draw.cpp (bj_draw_set_dealer_text, bj_draw_set_player_text)
	(bj_draw_paint_text, bj_draw_take_snapshot, bj_draw_refresh_screen):
	Use new approach for creating the text on the playing area.  Instead
	of having the hand and dealer methods called to update the text
	on screen for every screen update, have the hand and dealer set
	the markup text after every play and let the screen update render
	that when needed.  This allows the positioning of the pango layout
	to happen in draw.cpp.  And that allows positioning to scale with
	font size.

	* src/player.cpp (showProbabilities, showOptions):
	(showCount):
	Use monospace font family instead of fixed.  Use non-white color so
	that text will show up against white card if necessary.  Make
	headings bold.  Make best option bold.  Don't use a fixed font
	size.

	* src/dialog.cpp (get_insurance_choice): Insurance is for suckers or
	counters.  Make the default answer no.

2003-12-18  William Jon McCann  <mccann@jhu.edu>

	* src/menu.cpp (help_about_callback): Remove email addresses from main
	screen for space reasons.  Use angle brackets around email in credits.

	* src/game.cpp (bj_game_new): Fix leaks.

2003-12-17  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: Removed the dependence on an internal
	knowledge of GamesFileList.

	* games-files.c:
	* games-files.h: Convert games_files_list to a proper gobject.
	Added games_file_list_get_nth and games_file_list_for_each.
	Removed games_file_list_new_short and games_file_list_free (use
	g_object_unref). Also added file name transformation flags to
	*_create_widget.


2003-12-12  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/strategy.cpp: Removed the #include of <iostream> since it
	doesn't seem to be used and was causing some people compile
	problems. Fixes bug #128729.

2003-12-08  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.5.2

2003-12-04  Callum McKenzie  <callum@physics.otago.ac.nz>

	* games-files.c:
	* games-files.h: Add new routines (and rework some old ones) for
	finding images in a path and for dealing for cleanly with common
	UI work.

2003-11-27  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: Moved the games_get_file_list code out to a library.

	* games-files.c:
	* games-files.h: New routines (and files) for searching paths.

2003-11-26  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: Removed some unnecessary code and fixed a bug
	where the first selection would fail if the default style was the
	current style when the preferences were opened.

2003-11-25  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c (gtk_card_deck_options_edit_set): Get _edit_set
	to find the a matching style, if any. Also make the selection
	finally work properly and not reset the moment the dialog is
	opened.

2003-11-24  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-iamge.c (gdk_card_deck_options_edit_get_card_styles):
	* card-style-file.h:
	* card-style-file.c (card_style_compare): Sort the style list and
	add an API call to card-style to assist this.

	* card-styles.xml: Added more styles.

	* gdk-card-image.c (gtk_card_deck_options_edit_create_list): And
	another Heisenbug fixed. Make sure gtk_list_store gets the correct
	type to store.

	* card-style-file.h (NUM_COMPONENTS): Heisenbug! I wish I had read
	my own comment.

2003-11-23  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: Rearranged to put all the
	gtk_card_deck_options_edit stuff together.

2003-11-23  Callum McKenzie  <callum@physics.otago.ac.nz>

	* card-style-file.c:
	* card-style-file.h:
	* gdk-card-image.c: Start cleaning up my code from last night. The
	definition and parsing of card style files has been moved into
	it's own file and is free of nasty global variables and might even
	be thread safe.

2003-11-22  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: The rough cut of the new card style selection
	widget. Known to work for aisleriot and should work for blackjack,
	but is inherently broken (it uses globals to store the state of
	the object). Good proof-of-principle though.

	* card-styles.xml: Created and added to the distribution.

2003-11-17  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: Updated for 2.5.1.

2003-11-13  William Jon McCann  <mccann@jhu.edu>

	* help/C/blackjack.xml: Document keyboard controls.

	* src/hand.cpp (bj_hand_show_dealer_probabilities): Add a check
	to make sure the dealer has a card first.

	* src/player.cpp (showOptions):
	(showProbabilities): Add labels, reduce precision, and use percentage
	symbols as suggested by Damon Brodie.

2003-10-27  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c (gdk_card_deck_new): Applied a patch from Mark
	Schreiber to catch the case where the card images are missing.

2003-10-21  Callum McKenzie  <callum@physics.otago.ac.nz>

	* README:
	* NEWS: Updated for the 2.5.0 release.

2003-10-12  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: 2.4.1.

	* TODO: Actually update the TODO file to get rid of the 2.4 stuff
	(and merge back the unfinished bits).

2003-09-09  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: Two-point-four-point-oooooooooh !
	* TODO: Synchronised with reality.

2003-09-01  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: It's time for 2.3.90.

2003-08-25  William Jon McCann  <mccann@jhu.edu>

	* help/C/figures/blackjack_start_window.png:
	* help/C/figures/blackjack_win_window.png: Changed help screenshots
	to use simple theme as it seems like this is the de facto standard
	for 2.4

2003-08-24  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: Added an entry for 2.3.8.

2003-08-10  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: Updated for 2.3.7.

2003-08-09  Callum McKenzie  <callum@physics.otago.ac.nz>

	* README: Complete rewrite for 2.4.

2003-08-02  Callum McKenzie  <callum@physics.otago.ac.nz>

	* C/blackjack.xml: Minor fixup to remove some useless boiler-plate
	text.

2003-07-11  Callum McKenzie  <callum@physics.otago.ac.nz>

	* NEWS: Updated for 2.3.5.

2003-07-10  Callum McKenzie  <callum@physics.otago.ac.nz>

	* data/blackjack.desktop.in: Update name to fit HIG (bug 116916).

2003-07-07  William Jon McCann  <mccann@jhu.edu>

	* src/events.cpp (bj_event_expose_callback)
	(bj_event_enter_notify):
	* src/blackjack.cpp (bj_quit_app): Added return values to fix
	Sun build errors.

	* src/strategy.h: One more line for the Sun Forte build fix.

	* src/game.cpp (bj_game_find_rules): Rewrote function to remove
	scandir/alphasort dependency.

2003-07-06  William Jon McCann  <mccann@jhu.edu>

	* src/strategy.h: Fix for Sun Forte build errors from Eric.

2003-06-22  Callum McKenzie  <callum@physics.otago.ac.nz>

	* data/blackjack.schemas.in: Remove full-stop from the end of
	short descriptions.

2003-06-21  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: Compile warning cleanups and deprecated
	function removal.

2003-06-19  William Jon McCann  <mccann@jhu.edu>

	* src/card.cpp (bj_card_load_pixmaps):
	* src/slot.cpp (bj_slot_load_pixmaps): Use g_build_filename to make paths.

	* src/blackjack.cpp (main): g_build_filename needs to be NULL terminated.

2003-06-18  William Jon McCann  <mccann@jhu.edu>

	* TODO: Update.

	* games-frame.c (games_frame_add): Make games frame fill the
	available space.

2003-06-17  William Jon McCann  <mccann@jhu.edu>

	* TODO: Updated with results of this round of compiler warning
	fixes.

	* gdk-card-image.c (gdk_card_deck_dir_search): Use
	g_build_filename to construct paths.

	* src/blackjack.c:
	* src/blackjack.h (BJ_RULES_DIR): Remove slash from directory.
	We will let g_build_filename add directory separators.

	* src/game.cpp (bj_game_find_and_read_rules)
	(bj_game_eval_installed_file): Use g_build_filename to construct
	paths.

	* src/strategy.cpp: Fixed compiler warning and converted
	to UNIX format line ending.

	* src/splash.cpp (expose_event):
	* src/player.cpp (showOptions):
	* src/hand.cpp (bj_hand_get_best_option_string):
	* src/game.cpp (bj_game_find_rules):
	* src/draw.cpp (bj_draw_chips): Fixed compiler warnings.

	* src/menu.cpp:
	* src/dialog.cpp:
	* src/blackjack.cpp:
	* src/game.cpp: Only use splash window when we aren't
	using a cache file.

2003-06-16  William Jon McCann  <mccann@jhu.edu>

	* src/blackjack.h: Fix typo.

	* src/dialog.cpp (show_preferences_dialog): Use mnemonics
	in preferences notebook tab labels.

2003-06-13  Callum McKenzie  <callum@physics.otago.ac.nz>

	* TODO: Massive update to hopefully include every known issue and
	bug and where it stands in terms of the 2.4 and 2.5 releases.

2003-06-13  William Jon McCann  <mccann@jhu.edu>

	* TODO (Blackjack): Removed fixed items.

	* src/dialog.cpp (select_rule_cb): Make dialog insensitive
	while loading new rules.

	* data/blackjack.schemas.in:  Install gconf schemas.

	* src/blackjack.cpp: #define gconf key names.

2003-06-11  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/menu.cpp:
	* src/blackjack.cpp: i18n fixes from Christian Neumair (bug #114875).

	* games-frame.c (games_frame_set_label): Compile fixups for those
	of us still using ANSI C, bad Jon :).

2003-06-10  William Jon McCann  <mccann@jhu.edu>

	* games-frame.c (games_frame_set_label): Added
	games_frame_set_label function.

2003-06-09  William Jon McCann  <mccann@jhu.edu>

	* src/dialog.cpp:
	* src/game.cpp: Removed separator from dialogs as in HIG.

	* games-frame.h:
	* games-frame.c: New functions to create a HIG compliant
	frame widget.

2003-06-07  William Jon McCann  <mccann@jhu.edu>

	* src/game.cpp (bj_game_eval_installed_file): Use HIG
	markup in error dialog.

	* src/dialog.cpp (show_preferences_dialog): HIG spacing
	tweak.

	* src/player.cpp (showOptions): Fixed i18n string issue.

	* src/blackjack.cpp: Keep local state information,
	removed quit confirmation dialog, use toolbar setting
	at startup.

	* src/dialog.cpp (pref_dialog_response): Make card
	preferences instant apply.

	* gdk-card-image.h:
	* gdk-card-image.c:
	I have made gdk_card_deck_options_edit a proper GTK widget (and it
	is now called gtk_card_deck_options_edit) without the dependence
	on having a notebook to fit into. Also used 2.0 API rather than
	the 1.x one. I have also removed the "dirty" call since it was in
	the way and we should be responding to the "changed" signal
	anyway.

2003-06-07  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/menu.cpp:
	* src/dialog.cpp:
	Fixes to make dialogs be presented properly. Fixes bug #114623.

	* src/dialog.cpp: Updated to use the revised
	gtk_card_deck_blah_blah API.

2003-06-06  Callum McKenzie  <callum@physics.otago.ac.nz>

	* MAINTAINERS: Updated.

2003-06-04  William Jon McCann  <mccann@jhu.edu>

	* src/dialog.cpp: Added all rule fields to tree view in pref
	dialog so that rules should be mostly self documented.  Also
	removed unused functions and HIGified alerts.

	* src/game.h:
	* src/game.cpp: Added new functions to load rules from file.
	Added new BJGameRules class derived from BJRules that holds
	all rule attributes.

	* src/strategy.h:
	* src/strategy.cpp: Added get methods for private variables.

	* data/Vegas_Strip.rules: Change to allow double after split,
	surrender, and resplitting aces.  This should not affect the
	cached rules file.

2003-06-03  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/dialog.cpp:
	* src/game.cpp:
	* src/hand.cpp:
	* src/menu.cpp:
	* src/player.cpp:
	* src/blackjack.cpp:
	* src/events.cpp: Fixes to remove compiler warnings.  Also made
	i18n changes as per Christian Rose's suggestions. Also removed
	score stuff since it isn't used.

    * [gdk-card-image]: Added new pixmaps, including the
	spectacular Dondorf set. Originally from the PySol program.

	* README: Updated for 2.3.3

2003-06-02  William Jon McCann  <mccann@jhu.edu>

	* src/events.cpp: Improved appbar text tips shown when hovering
	over objects in playing area.

2003-06-02  Callum McKenzie  <callum@physics.otago.ac.nz>

	* src/chips.cpp: If we're going to use sqrt, we'd better include
	math.h.

2003-05-16  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: Trying to solve multi-platform build problems
	by using generic glib functions (and thereby making it glib's
	problem to try and figure out whether to include dirent.h or
	not). This should fix bug #111225 and several others.

2003-05-14  Callum McKenzie  <callum@physics.otago.ac.nz>

	* [gdk-card-image]: Added a generic card game icon (it had been floating
	around the gnome-desktop module and needed a new home).

2003-05-13  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.h: Added C++ guards so that C++ code can use
	it. Do I have something in mind ? No of course not, there is no
	blackjack game that needs C++ support.

2003-05-07  Callum McKenzie  <callum@physics.otago.ac.nz>

	* gdk-card-image.c: Hopefully the ifdefs are a bit more friendly
	to NetBSD and don't break anything else. Hopefully resolves bug
	#111225.

2003-04-06  Ross Burton  <ross@burtonini.com>

	* gdk-card-image.c: Don't use #elif for Sun. Thanks to Rick
	Burridge, closing #109988.

2003-02-24  Theo van Klaveren  <t.vanklaveren@student.utwente.nl>

	* gdk-card-image.c: Include <sys/types.h> if it is present.
	Conditionally include <dirent.h> on FreeBSD. Kludgey, but I can't
	think of any other way. Fixes compile on FreeBSD. Closes #106963.

2002-07-04  Ross Burton  <ross@burtonini.com>

	* gdk-card-image.c: Bad hacky mojo to fix building on OSF/1
	(closes #77903).

2002-06-05  Bastien Nocera  <hadess@hadess.net>

	* gdk-card-image.c: (gdk_card_deck_dir_search),
	(gdk_card_deck_file_load): make sure it works if freecell isn't
	installed in the libgnome prefix

2002-04-16  Bastien Nocera  <hadess@hadess.net>

	* gdk-card-image.c: (is_image): revert previous change about gnome-vfs
	and include gnome-vfs-mime.h header

2002-04-16  Bastien Nocera  <hadess@hadess.net>

	* gdk-card-image.c: (gdk_card_deck_get_type), (is_image):
	* gdk-card-image.h: fix headers and use proper gnome-vfs function,
	use a GtkType instead of a guint for gdk_card_get_type
	(Closes: #77902)

2001-12-16  Juan Pablo Mendoza <jpablo@gnome.org>

	* gdk-card-image.c: Fix bad formated comment.

2001-07-07  Juan Pablo Mendoza <pablo_juan@yahoo.com>

	* gdk-card-image.c: Killed Imlib.

Tue Feb 06 16:51:19 2001  George Lebl <jirka@5z.com>

	* gdk-card-image.c: Deal with errors and missing files/directories
	  correctly.  Use gnome-mime instead of g_is_image_filename to
	  avoid warning.

1999-02-20  Jonathan Blandford  <jrb@redhat.com>

	* gdk-card-image.c: limited the number of cards available
	for small and medium suit vals.
	(make_suit): remove small image from joker -- just 2 black jokers
	and 2 red jokers instead.

1998-12-08  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gdk-card-image.c (gdk_imlib_rotate_image_180): Small fix to the
	new imlib api.  This should not be poking with Imlib internals in
	the first place.

Sat Nov 21 Felix Bellaby <felix@pooh.u-net.com>
	* gdk-card-image.h: Redsigned to use gdk objects, now offers a
 	gtknotebook page for selecting card preferences.
	* gdk-card-image.c: Substantially rewritten.
	* *.png: png based images to replace xpm.

Mon Oct 26 Felix Bellaby <felix@pooh.u-net.com>
	* gdk-card-image.h (gdk_card_image_unref): frees X server refs.
	* gdk-card-image.h (gdk_card_image_back): returns a card back image.
	* gdk-card-image.h (gdk_card_image_{face/mask}): simpler, quicker API.
	* gdk-card-image.c: Brought geometry of images closer to "real" cards.
	Switched to using imlib. Doubled the corner symbols.
	* Cardback{1-5}.xpm: Added masks to card back xpms.
	* Suits.xpm, Pictures.xpm: New xpms for the cards
	* Suits.xpat.xpm, Pictures.xpat.xpm: Reformated versions of old xpms.
